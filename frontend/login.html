<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>欢迎使用EasyOffice</title>
    <meta name="keywords" content="HTML5 Bootstrap 3 Admin Template UI Theme" />
    <meta name="description" content="AbsoluteAdmin - A Responsive HTML5 Admin UI Framework">
    <meta name="author" content="AbsoluteAdmin">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="css/theme.css">
    <link rel="stylesheet" type="text/css" href="css/admin-forms.css">
    <link rel="shortcut icon" href="img/favicon.ico">
</head>
<body class="external-page external-alt sb-l-c sb-r-c">
<div id="main" class="animated fadeIn">
    <section id="content_wrapper">
        <section id="content">
            <div class="admin-form theme-info mw500" id="login">
                <div class="content-header">
                    <h1> EasyOffice</h1>
                    <p class="lead">欢迎使用EasyOffice管理系统</p>
                </div>
                <div class="panel mt30 mb25">
                    <form method="post" action="#" id="contact">
                        <div class="panel-body bg-light p25 pb15">
                            <div class="section">
                                <label for="sn" class="field-label text-muted fs18 mb10">工号</label>
                                <label for="sn" class="field prepend-icon">
                                    <input type="text" name="sn" id="sn" class="gui-input" placeholder="请输入工号...">
                                    <label for="sn" class="field-icon">
                                        <i class="fa fa-user"></i>
                                    </label>
                                </label>
                            </div>
                            <div class="section">
                                <label for="password" class="field-label text-muted fs18 mb10">密码</label>
                                <label for="password" class="field prepend-icon">
                                    <input type="password" name="password" id="password" class="gui-input" placeholder="请输入密码...">
                                    <label for="password" class="field-icon">
                                        <i class="fa fa-lock"></i>
                                    </label>
                                </label>
                            </div>
                        </div>
                        <div class="panel-footer clearfix">
                            <button id="loginBtn" type="submit" class="button btn-primary mr10 pull-right">登陆</button>
                            <label class="switch ib switch-primary mt10">
                                <input type="checkbox" name="remember" id="remember" checked="true">
                                <label for="remember" data-on="是" data-off="否"></label>
                                <span>记住我&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                    <span id="loginMsg" style="color: red;"></span>
                                </span>
                            </label>
                        </div>
                    </form>
                </div>
            </div>
        </section>
    </section>
</div>
<script src="js/jquery-1.11.1.min.js"></script>
<script src="js/jquery_ui/jquery-ui.min.js"></script>
<script src="js/utility/utility.js"></script>
<script src="js/demo/demo.js"></script>
<script src="js/main.js"></script>
<script>
    //登录按钮事件监听
    $('#loginBtn').click(function(){
        let userId = $('#sn').val();
        let paswd = $('#password').val();

        $.ajax({
        method:'POST',
        url:'http://127.0.0.1:5050/user/login',
        data:`sn=${userId}&password=${paswd}`,
        success:function(data,msg,xhr){
          if(data.code==200){
                //$('#modelRegisterSucc').modal()
              
          }else{

          }
        },
        error:function(xhr,err){
          console.log('异步请求失败'),
          console.log(xhr)
          console.log(err)
        }
      })
    })
</script>
<!--弹出式对话框表示注册成功-->
<div id="modelRegisterSucc" class="modal fade"><!--半透明遮罩-->
    <div class="modal-dialog modal-sm"><!--对话框的尺寸，位置-->
        <div class="modal-content"><!--边框，倒角，背景色-->
            <!--头部-->
            <div class="modal-header">
                <h4 class="modal-title">注册成功</h4>
            </div>
            <!--主体-->
            <div class="modal-body">
                <p>新用户注册成功</p>
            </div>
            <!--尾部-->
            <div class="modal-footer">
                <button type="button" data-dismiss="modal" class="btn btn-info">确定</button>
            </div>
        </div>
    </div>
</div>
<div id="modelRegisterError" class="modal fade"><!--半透明遮罩-->
    <div class="modal-dialog modal-sm"><!--对话框的尺寸，位置-->
        <div class="modal-content"><!--边框，倒角，背景色-->
            <!--头部-->
            <div class="modal-header">
                <h4 class="modal-title">注册失败</h4>
            </div>
            <!--主体-->
            <div class="modal-body">
                <p>新用户注册成功</p>
                <p>服务器返回的错误消息
                    <span id="serverError"></span>
                </p>
            </div>
            <!--尾部-->
            <div class="modal-footer">
                <button type="button" data-dismiss="modal" class="btn btn-info">确定</button>
        </div>
    </div>
</div>
</body>
</html>
